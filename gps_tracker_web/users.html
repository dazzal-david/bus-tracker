<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS Tracker - Users</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="users.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <nav class="dashboard-nav">
            <div class="nav-header">
                <div class="logo">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
                    </svg>
                    <h1>GPS Tracker</h1>
                </div>
                <span id="adminEmail" class="admin-email"></span>
            </div>
            <button id="logoutButton" class="logout-btn">
                <svg viewBox="0 0 24 24" width="18" height="18">
                    <path fill="currentColor" d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                </svg>
                <span>Logout</span>
            </button>
        </nav>

        <main class="dashboard-content">
            <div class="users-header">
                <h2>Track Users</h2>
                <div class="tracking-controls">
                    <button id="trackSelectedBtn" class="primary-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18">
                            <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                        </svg>
                        Track Selected
                    </button>
                    <button id="refreshUsersBtn" class="secondary-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18">
                            <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                        </svg>
                        Refresh
                    </button>
                </div>
            </div>

            <div class="users-list-container">
                <div class="users-list-header">
                    <div class="user-select-all">
                        <input type="checkbox" id="selectAll" class="checkbox">
                        <label for="selectAll"></label>
                    </div>
                    <div class="user-name-header">Name</div>
                    <div class="user-email-header">Email</div>
                    <div class="user-status-header">Status</div>
                    <div class="user-last-seen-header">Last Seen</div>
                </div>
                <div class="users-list" id="usersList">
                    <!-- Users will be populated here -->
                    <!-- Example user for styling reference -->
                    <div class="user-item">
                        <div class="user-select">
                            <input type="checkbox" id="user1" class="checkbox">
                            <label for="user1"></label>
                        </div>
                        <div class="user-name">John Doe</div>
                        <div class="user-email">john.doe@example.com</div>
                        <div class="user-status">
                            <span class="status-badge online">Online</span>
                        </div>
                        <div class="user-last-seen">5 minutes ago</div>
                    </div>
                    <div class="user-item">
                        <div class="user-select">
                            <input type="checkbox" id="user2" class="checkbox">
                            <label for="user2"></label>
                        </div>
                        <div class="user-name">Jane Smith</div>
                        <div class="user-email">jane.smith@example.com</div>
                        <div class="user-status">
                            <span class="status-badge offline">Offline</span>
                        </div>
                        <div class="user-last-seen">2 hours ago</div>
                    </div>
                    <!-- End of example users -->
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="users.js"></script>
</body>
</html>